<!DOCTYPE html>{% load static %} {% load i18n %} {% load compress %}
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>{% trans "home pagetitle" %}</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="author" content="Platform Internetstandaarden / Internet Standards Platform">
    <link rel="icon" href="https://www.internet.nl/static/favicon.png" sizes="32x32">
    <link rel="icon" href="https://www.internet.nl/static/favicon.png" sizes="192x192">
    <link rel="apple-touch-icon-precomposed" href="https://www.internet.nl/static/favicon.png">
    <meta name="msapplication-TileImage" content="/static/favicon.png">

    {% compress css %}
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/internet_nl/style-min.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/dropzone@5.5.0/basic.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/dropzone@5.5.0/dropzone.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/select2@4.0.6-rc.0/select2.min.css'%}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/vue-multiselect@2.1.6/vue-multiselect.min.css'%}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/vue-select@3.1.0/vue-select.css'%}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/chartjs@2.8.0/Chart.css'%}">
        <link rel="stylesheet" type="text/css" media="print" href="{% static 'css/vendor/internet_nl/print-min.css' %}">
        <link rel="stylesheet" type="text/css" id="overrides" href="{% static 'css/overrides_dashboard.css' %}">

    {% endcompress %}

    <script type="text/javascript" src="{% static 'js/vendor/internet_nl/imagecheck-min.js' %}" defer="defer"></script>

    {% if debug %}
        <script type="text/javascript" src="{% static 'js/vendor/jquery@3.4.0/jquery-3.4.0.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/internet_nl/headroom-min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/internet_nl/functions-min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/internet_nl/internetnl.results-min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vuejs@2.6.11/vue.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-router@3.1.3/vue-router.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/momentjs@2.24.0/moment-with-locales.js' %}" charset="UTF-8"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-i18n@8.9.0/vue-i18n.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-multiselect@2.1.6/vue-multiselect.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/lodash@4.17.11/lodash.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/select2@4.0.6-rc.0/select2.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/chartjs@2.8.0/Chart.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-select@3.1.0/vue-select.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/chartjs-plugin-datalabels@v0.6.0/chartjs-plugin-datalabels.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/patternomaly@1.3.2/patternomaly.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-tabs-component@abandoned/index.js' %}"></script>
    {% else %}{% compress js %}
        <script type="text/javascript" src="{% static 'js/vendor/jquery@3.4.0/jquery-3.4.0.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/internet_nl/headroom-min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/internet_nl/functions-min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/internet_nl/internetnl.results-min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vuejs@2.6.11/vue.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-router@3.1.3/vue-router.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/momentjs@2.24.0/moment-with-locales.js' %}" charset="UTF-8"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-i18n@8.9.0/vue-i18n.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-multiselect@2.1.6/vue-multiselect.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/lodash@4.17.11/lodash.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/select2@4.0.6-rc.0/select2.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-select@3.1.0/vue-select.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/chartjs@2.8.0/Chart.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/chartjs-plugin-datalabels@v0.6.0/chartjs-plugin-datalabels.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/patternomaly@1.3.2/patternomaly.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/vendor/vue-tabs-component@abandoned/index.js' %}"></script>
    {% endcompress %}{% endif %}

    <!-- Dropzone cannot be minified, results in errors. -->
    <script type="text/javascript" src="{% static 'js/vendor/dropzone@5.5.0/dropzone.js' %}"></script>

    <script type="text/javascript" src="{% static 'js/translations/internet_nl.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/translations/dashboard.js' %}"></script>

    <script type="text/x-template" id="modal-template">
      <transition name="modal">
        <div class="modal-mask">
          <div class="modal-wrapper">
            <div class="modal-container">

              <div class="modal-header">
                <button style="float:right;" type="button" class="close" data-dismiss="modal" aria-label="Close" @click="$emit('close')">
                    <span aria-hidden="true">&times;</span>
                </button>
                <slot name="header">
                  default header
                </slot>

              </div>

              <div class="modal-body">
                <slot name="body">
                  default body
                </slot>
              </div>

              <div class="modal-footer">
                <slot name="footer">
                  default footer
                  <button class="modal-default-button" @click="$emit('close')">
                    OK
                  </button>
                </slot>
              </div>
            </div>
          </div>
        </div>
      </transition>
    </script>

    <script>
        Vue.component('modal', {
            template: '#modal-template',
            mounted: function() {
                // Emit a close when the escape key is hit.
                document.addEventListener('keyup', (e) => {
                    if (e.keyCode === 27) {
                        this.$emit('close');
                    }
                });

                // focus on the default button for keyboard users.
                // todo: should it be the first input, and how do you do that easily / sanely
                document.getElementsByClassName('modal-default-button')[0].focus();
            },
        });

        // on embedded pages autodiscovery doesn't work, use a  manual call:
        // https://stackoverflow.com/questions/22169595/dropzone-js-init-function-not-being-called
        Dropzone.autoDiscover = false;

        Vue.component('select2-tags-widget', {
            // https://vuejs.org/v2/examples/select2.html
          props: ['options', 'value'],
          template: '<select style="width: 95%" multiple="multiple">\n' +
              '    <slot></slot>\n' +
              '  </select>',
          mounted: function () {
            var vm = this;
            $(this.$el)
              // init select2
              .select2({
                placeholder: 'example.com, www.example.com, www.internet.nl, ...',
                tags: true,
                tokenSeparators: [',', ' '],
                // hides the no results box, as this is pure tagbox only
                // @see: https://stackoverflow.com/questions/18470917/disable-no-matches-found-text-and-autocomplete-on-select2
                "language":{
                    "noResults" : function () { return ''; }
                },
                  multiple: true,

                createTag: function (params) {
                    // This is an extremely naive implementation of domain validation. On the server tldextract is
                    // used which is much more complete as it uses the public suffixes list.
                    // This is just a convenience check that something with a dot is entered.
                    let term = $.trim(params.term);

                    // use the most naive (fast) 'url' validator. All validation is done server side anyway, and
                    // verifying that something is an url with unicode characters and such is not really a thing.
                    var pattern = new RegExp('^.*\\..{2,}$'); // domain name
                    if (!pattern.test(term)) {
                        return null;
                    }

                    if (term === '') {
                        return null;
                    }

                    return {
                        id: term,
                        text: term,
                    }
                }
            }).val(
                this.value
              ).trigger('change')
              // emit event on change.
              .on('change', function () {
                  console.log('change');
                  // Ok, this was not easy to figure out. This is the most old school approach of getting all option values.
                  // I would expect to run .val() or someething, but that didn't update etc..
                  // this approach is not reactive, but it doesn't need to be.
                  let my_data = [];
                    for (let i = 0; i < this.options.length; i++) {
                        my_data.push(this.options[i].text);
                    }

                  console.log(my_data);
                  vm.$emit('input', my_data)  // can't get all...
              })
          },
            /* this does not update:
            computed: {
              // at least this works...
                all_options: function(){
                    return $(this.$el).val();
                }
            },*/
          destroyed: function () {
            $(this.$el).off().select2('destroy')
          }
        });

        function import_field_translations(language){
            return {
                internet_nl_web_tls: internet_nl_messages[language].internet_nl.test_sitetls_label,
                internet_nl_web_dnssec: internet_nl_messages[language].internet_nl.test_sitednssec_label,
                internet_nl_web_ipv6: internet_nl_messages[language].internet_nl.test_siteipv6_label,

                internet_nl_mail_dashboard_tls: internet_nl_messages[language].internet_nl.test_mailtls_label,
                internet_nl_mail_dashboard_auth: internet_nl_messages[language].internet_nl.test_mailauth_label,
                internet_nl_mail_dashboard_dnssec: internet_nl_messages[language].internet_nl.test_maildnssec_label,
                internet_nl_mail_dashboard_ipv6: internet_nl_messages[language].internet_nl.test_mailipv6_label,

                // web category verdicts
                internet_nl_web_ipv6_verdict_good: internet_nl_messages[language].internet_nl.test_siteipv6_passed_summary,
                internet_nl_web_ipv6_verdict_bad: internet_nl_messages[language].internet_nl.test_siteipv6_failed_summary,
                internet_nl_web_appsecpriv_verdict_good: internet_nl_messages[language].internet_nl.test_siteappsecpriv_passed_summary,
                internet_nl_web_appsecpriv_verdict_bad: internet_nl_messages[language].internet_nl.test_siteappsecpriv_failed_summary,
                internet_nl_web_tls_verdict_good: internet_nl_messages[language].internet_nl.test_sitetls_passed_summary,
                internet_nl_web_tls_verdict_bad: internet_nl_messages[language].internet_nl.test_sitetls_failed_summary,
                internet_nl_web_dnssec_verdict_good: internet_nl_messages[language].internet_nl.test_sitednssec_passed_summary,
                internet_nl_web_dnssec_verdict_bad: internet_nl_messages[language].internet_nl.test_sitednssec_failed_summary,

                // mail category verdicts
                internet_nl_mail_dashboard_tls_verdict_good: internet_nl_messages[language].internet_nl.test_mailtls_passed_summary,
                internet_nl_mail_dashboard_tls_verdict_bad: internet_nl_messages[language].internet_nl.test_mailtls_failed_summary,
                internet_nl_mail_dashboard_auth_verdict_good: internet_nl_messages[language].internet_nl.test_mailauth_passed_summary,
                internet_nl_mail_dashboard_auth_verdict_bad: internet_nl_messages[language].internet_nl.test_mailauth_failed_summary,
                internet_nl_mail_dashboard_dnssec_verdict_good: internet_nl_messages[language].internet_nl.test_maildnssec_passed_summary,
                internet_nl_mail_dashboard_dnssec_verdict_bad: internet_nl_messages[language].internet_nl.test_maildnssec_failed_summary,
                internet_nl_mail_dashboard_ipv6_verdict_good: internet_nl_messages[language].internet_nl.test_mailipv6_passed_summary,
                internet_nl_mail_dashboard_ipv6_verdict_bad: internet_nl_messages[language].internet_nl.test_mailipv6_failed_summary,

                // https://github.com/NLnetLabs/Internet.nl/blob/cece8255ac7f39bded137f67c94a10748970c3c7/checks/templates/domain-results.html
                internet_nl_web_appsecpriv: internet_nl_messages[language].internet_nl.test_siteappsecpriv_label,  // Added 24 May 2019
                internet_nl_web_appsecpriv_csp: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_csp_label,  // Added 24 May 2019
                internet_nl_web_appsecpriv_referrer_policy: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_referrer_policy_label,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_content_type_options: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_content_type_label,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_frame_options: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_frame_label,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_xss_protection: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_xss_label,  // Added 24 May 2019
                internet_nl_web_https_cert_domain: internet_nl_messages[language].internet_nl.detail_web_tls_cert_hostmatch_label,
                internet_nl_web_https_http_redirect: internet_nl_messages[language].internet_nl.detail_web_tls_https_forced_label,
                internet_nl_web_https_cert_chain: internet_nl_messages[language].internet_nl.detail_web_tls_cert_trust_label,
                internet_nl_web_https_tls_version: internet_nl_messages[language].internet_nl.detail_web_tls_version_label,
                internet_nl_web_https_tls_clientreneg: internet_nl_messages[language].internet_nl.detail_web_tls_renegotiation_client_label,
                internet_nl_web_https_tls_ciphers: internet_nl_messages[language].internet_nl.detail_web_tls_ciphers_label,
                internet_nl_web_https_http_available: internet_nl_messages[language].internet_nl.detail_web_tls_https_exists_label,
                internet_nl_web_https_dane_exist: internet_nl_messages[language].internet_nl.detail_web_tls_dane_exists_label,
                internet_nl_web_https_http_compress: internet_nl_messages[language].internet_nl.detail_web_tls_http_compression_label,
                internet_nl_web_https_http_hsts: internet_nl_messages[language].internet_nl.detail_web_tls_https_hsts_label,
                internet_nl_web_https_tls_secreneg: internet_nl_messages[language].internet_nl.detail_web_tls_renegotiation_secure_label,
                internet_nl_web_https_dane_valid: internet_nl_messages[language].internet_nl.detail_web_tls_dane_valid_label,
                internet_nl_web_https_cert_pubkey: internet_nl_messages[language].internet_nl.detail_web_tls_cert_pubkey_label,
                internet_nl_web_https_cert_sig: internet_nl_messages[language].internet_nl.detail_web_tls_cert_signature_label,
                internet_nl_web_https_tls_compress: internet_nl_messages[language].internet_nl.detail_web_tls_compression_label,
                internet_nl_web_https_tls_keyexchange: internet_nl_messages[language].internet_nl.detail_web_tls_fs_params_label,
                internet_nl_web_dnssec_valid: internet_nl_messages[language].internet_nl.detail_web_dnssec_valid_label,
                internet_nl_web_dnssec_exist: internet_nl_messages[language].internet_nl.detail_web_dnssec_exists_label,
                internet_nl_web_ipv6_ws_similar: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_ipv46_label,
                internet_nl_web_ipv6_ws_address: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_aaaa_label,
                internet_nl_web_ipv6_ns_reach: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_reach_label,
                internet_nl_web_ipv6_ws_reach: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_reach_label,
                internet_nl_web_ipv6_ns_address: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_aaaa_label,

                // verdicts:
                internet_nl_web_appsecpriv_csp_verdict_good: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_csp_verdict_good,  // Added 24 May 2019
                internet_nl_web_appsecpriv_referrer_policy_verdict_good: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_referrer_policy_verdict_good,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_content_type_options_verdict_good: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_content_type_verdict_good,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_frame_options_verdict_good: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_frame_verdict_good,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_xss_protection_verdict_good: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_xss_verdict_good,  // Added 24 May 2019
                internet_nl_web_https_cert_domain_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_cert_hostmatch_verdict_good,
                internet_nl_web_https_http_redirect_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_https_forced_verdict_good,
                internet_nl_web_https_cert_chain_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_cert_trust_verdict_good,
                internet_nl_web_https_tls_version_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_version_verdict_good,
                internet_nl_web_https_tls_clientreneg_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_renegotiation_client_verdict_good,
                internet_nl_web_https_tls_ciphers_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_ciphers_verdict_good,
                internet_nl_web_https_http_available_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_https_exists_verdict_good,
                internet_nl_web_https_dane_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_dane_exists_verdict_good,
                internet_nl_web_https_http_compress_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_http_compression_verdict_good,
                internet_nl_web_https_http_hsts_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_https_hsts_verdict_good,
                internet_nl_web_https_tls_secreneg_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_renegotiation_secure_verdict_good,
                internet_nl_web_https_dane_valid_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_dane_valid_verdict_good,
                internet_nl_web_https_cert_pubkey_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_cert_pubkey_verdict_good,
                internet_nl_web_https_cert_sig_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_cert_signature_verdict_good,
                internet_nl_web_https_tls_compress_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_compression_verdict_good,
                internet_nl_web_https_tls_keyexchange_verdict_good: internet_nl_messages[language].internet_nl.detail_web_tls_fs_params_verdict_good,
                internet_nl_web_dnssec_valid_verdict_good: internet_nl_messages[language].internet_nl.detail_web_dnssec_valid_verdict_good,
                internet_nl_web_dnssec_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_web_dnssec_exists_verdict_good,
                internet_nl_web_ipv6_ws_similar_verdict_good: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_ipv46_verdict_good,
                internet_nl_web_ipv6_ws_address_verdict_good: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_aaaa_verdict_good,
                internet_nl_web_ipv6_ns_reach_verdict_good: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_reach_verdict_good,
                internet_nl_web_ipv6_ws_reach_verdict_good: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_reach_verdict_good,
                internet_nl_web_ipv6_ns_address_verdict_good: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_aaaa_verdict_good,

                internet_nl_web_appsecpriv_csp_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_csp_verdict_bad,  // Added 24 May 2019
                internet_nl_web_appsecpriv_referrer_policy_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_referrer_policy_verdict_bad,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_content_type_options_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_content_type_verdict_bad,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_frame_options_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_frame_verdict_bad,  // Added 24 May 2019
                internet_nl_web_appsecpriv_x_xss_protection_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_appsecpriv_http_x_xss_verdict_bad,  // Added 24 May 2019
                internet_nl_web_https_cert_domain_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_cert_hostmatch_verdict_bad,
                internet_nl_web_https_http_redirect_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_https_forced_verdict_bad,
                internet_nl_web_https_cert_chain_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_cert_trust_verdict_bad,
                internet_nl_web_https_tls_version_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_version_verdict_bad,
                internet_nl_web_https_tls_clientreneg_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_renegotiation_client_verdict_bad,
                internet_nl_web_https_tls_ciphers_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_ciphers_verdict_bad,
                internet_nl_web_https_http_available_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_https_exists_verdict_bad,
                internet_nl_web_https_dane_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_dane_exists_verdict_bad,
                internet_nl_web_https_http_compress_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_http_compression_verdict_bad,
                internet_nl_web_https_http_hsts_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_https_hsts_verdict_bad,
                internet_nl_web_https_tls_secreneg_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_renegotiation_secure_verdict_bad,
                internet_nl_web_https_dane_valid_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_dane_valid_verdict_bad,
                internet_nl_web_https_cert_pubkey_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_cert_pubkey_verdict_bad,
                internet_nl_web_https_cert_sig_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_cert_signature_verdict_bad,
                internet_nl_web_https_tls_compress_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_compression_verdict_bad,
                internet_nl_web_https_tls_keyexchange_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_tls_fs_params_verdict_bad,
                internet_nl_web_dnssec_valid_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_dnssec_valid_verdict_bad,
                internet_nl_web_dnssec_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_dnssec_exists_verdict_bad,
                internet_nl_web_ipv6_ws_similar_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_ipv46_verdict_bad,
                internet_nl_web_ipv6_ws_address_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_aaaa_verdict_bad,
                internet_nl_web_ipv6_ns_reach_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_reach_verdict_bad,
                internet_nl_web_ipv6_ws_reach_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_ipv6_web_reach_verdict_bad,
                internet_nl_web_ipv6_ns_address_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_aaaa_verdict_bad,

                internet_nl_mail_starttls_cert_domain: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_hostmatch_label,
                internet_nl_mail_starttls_tls_version: internet_nl_messages[language].internet_nl.detail_mail_tls_version_label,
                internet_nl_mail_starttls_cert_chain: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_trust_label,
                internet_nl_mail_starttls_tls_available: internet_nl_messages[language].internet_nl.detail_mail_tls_starttls_exists_label,
                internet_nl_mail_starttls_tls_clientreneg: internet_nl_messages[language].internet_nl.detail_mail_tls_renegotiation_client_label,
                internet_nl_mail_starttls_tls_ciphers: internet_nl_messages[language].internet_nl.detail_mail_tls_ciphers_label,
                internet_nl_mail_starttls_dane_valid: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_valid_label,
                internet_nl_mail_starttls_dane_exist: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_exists_label,
                internet_nl_mail_starttls_tls_secreneg: internet_nl_messages[language].internet_nl.detail_mail_tls_renegotiation_secure_label,
                internet_nl_mail_starttls_dane_rollover: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_rollover_label,
                internet_nl_mail_starttls_cert_pubkey: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_pubkey_label,
                internet_nl_mail_starttls_cert_sig: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_signature_label,
                internet_nl_mail_starttls_tls_compress: internet_nl_messages[language].internet_nl.detail_mail_tls_compression_label,
                internet_nl_mail_starttls_tls_keyexchange: internet_nl_messages[language].internet_nl.detail_mail_tls_fs_params_label,
                internet_nl_mail_auth_dmarc_policy: internet_nl_messages[language].internet_nl.detail_mail_auth_dmarc_policy_label,
                internet_nl_mail_auth_dmarc_exist: internet_nl_messages[language].internet_nl.detail_mail_auth_dmarc_label,
                internet_nl_mail_auth_spf_policy: internet_nl_messages[language].internet_nl.detail_mail_auth_spf_policy_label,
                internet_nl_mail_auth_dkim_exist: internet_nl_messages[language].internet_nl.detail_mail_auth_dkim_label,
                internet_nl_mail_auth_spf_exist: internet_nl_messages[language].internet_nl.detail_mail_auth_spf_label,
                internet_nl_mail_dnssec_mailto_exist: internet_nl_messages[language].internet_nl.detail_mail_dnssec_exists_label,
                internet_nl_mail_dnssec_mailto_valid: internet_nl_messages[language].internet_nl.detail_mail_dnssec_valid_label,
                internet_nl_mail_dnssec_mx_valid: internet_nl_messages[language].internet_nl.detail_mail_dnssec_mx_valid_label,
                internet_nl_mail_dnssec_mx_exist: internet_nl_messages[language].internet_nl.detail_mail_dnssec_mx_exists_label,
                internet_nl_mail_ipv6_mx_address: internet_nl_messages[language].internet_nl.detail_mail_ipv6_mx_aaaa_label,
                internet_nl_mail_ipv6_mx_reach: internet_nl_messages[language].internet_nl.detail_mail_ipv6_mx_reach_label,
                internet_nl_mail_ipv6_ns_reach: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_reach_label,
                internet_nl_mail_ipv6_ns_address: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_aaaa_label,

                //
                internet_nl_mail_starttls_cert_domain_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_hostmatch_verdict_good,
                internet_nl_mail_starttls_tls_version_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_version_verdict_good,
                internet_nl_mail_starttls_cert_chain_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_trust_verdict_good,
                internet_nl_mail_starttls_tls_available_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_starttls_exists_verdict_good,
                internet_nl_mail_starttls_tls_clientreneg_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_renegotiation_client_verdict_good,
                internet_nl_mail_starttls_tls_ciphers_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_ciphers_verdict_good,
                internet_nl_mail_starttls_dane_valid_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_valid_verdict_good,
                internet_nl_mail_starttls_dane_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_exists_verdict_good,
                internet_nl_mail_starttls_tls_secreneg_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_renegotiation_secure_verdict_good,
                internet_nl_mail_starttls_dane_rollover_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_rollover_verdict_good,
                internet_nl_mail_starttls_cert_pubkey_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_pubkey_verdict_good,
                internet_nl_mail_starttls_cert_sig_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_signature_verdict_good,
                internet_nl_mail_starttls_tls_compress_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_compression_verdict_good,
                internet_nl_mail_starttls_tls_keyexchange_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_tls_fs_params_verdict_good,
                internet_nl_mail_auth_dmarc_policy_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_auth_dmarc_policy_verdict_good,
                internet_nl_mail_auth_dmarc_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_auth_dmarc_verdict_good,
                internet_nl_mail_auth_spf_policy_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_auth_spf_policy_verdict_good,
                internet_nl_mail_auth_dkim_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_auth_dkim_verdict_good,
                internet_nl_mail_auth_spf_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_auth_spf_verdict_good,
                internet_nl_mail_dnssec_mailto_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_dnssec_exists_verdict_good,
                internet_nl_mail_dnssec_mailto_valid_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_dnssec_valid_verdict_good,
                internet_nl_mail_dnssec_mx_valid_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_dnssec_mx_valid_verdict_good,
                internet_nl_mail_dnssec_mx_exist_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_dnssec_mx_exists_verdict_good,
                internet_nl_mail_ipv6_mx_address_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_ipv6_mx_aaaa_verdict_good,
                internet_nl_mail_ipv6_mx_reach_verdict_good: internet_nl_messages[language].internet_nl.detail_mail_ipv6_mx_reach_verdict_good,
                internet_nl_mail_ipv6_ns_reach_verdict_good: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_reach_verdict_good,
                internet_nl_mail_ipv6_ns_address_verdict_good: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_aaaa_verdict_good,

                //
                internet_nl_mail_starttls_cert_domain_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_hostmatch_verdict_bad,
                internet_nl_mail_starttls_tls_version_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_version_verdict_bad,
                internet_nl_mail_starttls_cert_chain_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_trust_verdict_bad,
                internet_nl_mail_starttls_tls_available_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_starttls_exists_verdict_bad,
                internet_nl_mail_starttls_tls_clientreneg_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_renegotiation_client_verdict_bad,
                internet_nl_mail_starttls_tls_ciphers_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_ciphers_verdict_bad,
                internet_nl_mail_starttls_dane_valid_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_valid_verdict_bad,
                internet_nl_mail_starttls_dane_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_exists_verdict_bad,
                internet_nl_mail_starttls_tls_secreneg_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_renegotiation_secure_verdict_bad,
                internet_nl_mail_starttls_dane_rollover_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_dane_rollover_verdict_bad,
                internet_nl_mail_starttls_cert_pubkey_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_pubkey_verdict_bad,
                internet_nl_mail_starttls_cert_sig_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_cert_signature_verdict_bad,
                internet_nl_mail_starttls_tls_compress_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_compression_verdict_bad,
                internet_nl_mail_starttls_tls_keyexchange_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_tls_fs_params_verdict_bad,
                internet_nl_mail_auth_dmarc_policy_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_auth_dmarc_policy_verdict_bad,
                internet_nl_mail_auth_dmarc_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_auth_dmarc_verdict_bad,
                internet_nl_mail_auth_spf_policy_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_auth_spf_policy_verdict_bad,
                internet_nl_mail_auth_dkim_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_auth_dkim_verdict_bad,
                internet_nl_mail_auth_spf_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_auth_spf_verdict_bad,
                internet_nl_mail_dnssec_mailto_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_dnssec_exists_verdict_bad,
                internet_nl_mail_dnssec_mailto_valid_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_dnssec_valid_verdict_bad,
                internet_nl_mail_dnssec_mx_valid_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_dnssec_mx_valid_verdict_bad,
                internet_nl_mail_dnssec_mx_exist_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_dnssec_mx_exists_verdict_bad,
                internet_nl_mail_ipv6_mx_address_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_ipv6_mx_aaaa_verdict_bad,
                internet_nl_mail_ipv6_mx_reach_verdict_bad: internet_nl_messages[language].internet_nl.detail_mail_ipv6_mx_reach_verdict_bad,
                internet_nl_mail_ipv6_ns_reach_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_reach_verdict_bad,
                internet_nl_mail_ipv6_ns_address_verdict_bad: internet_nl_messages[language].internet_nl.detail_web_mail_ipv6_ns_aaaa_verdict_bad,
            }
        };

        function interpolate_translations(){
            let translation = messages;

            translation.nl = Object.assign(translation.nl, import_field_translations('nl'));
            translation.en = Object.assign(translation.en, import_field_translations('en'));

            return translation;
        };

        // used in various vue components to translate the GUI
        const i18n = new VueI18n({
            locale: get_cookie('dashboard_language'),
            fallbackLocale: 'en',
            silentFallbackWarn: true,
            // it's required this is called messages.
            messages: interpolate_translations()
        });

        Vue.component('multiselect', window.VueMultiselect.default);
        Vue.component('v-select', VueSelect.VueSelect);
        Vue.component('tabs', VueTabs.Tabs);
        Vue.component('tab', VueTabs.Tab);


        {% verbatim %}
        Vue.component('server-response', {
            props: ['response'],
            template: '' +
                '<div>' +
                '    <div v-if="response.error" class="server-response-error">\n' +
                '        <h2>❌ An error occured</h2>\n' +
                '        {{ response.message }}\n' +
                '    </div>\n' +
                '    <div v-if="response.success" class="server-response-success">\n' +
                '        <h2>✅ Success!</h2>\n' +
                '        {{ response.message }}\n' +
                '    </div>' +
                '</div>',
        });
        {% endverbatim %}

        function set_language(language_code){
            document.cookie = "dashboard_language=" + (language_code || "en") + "; path=/";
            location.reload();
        }

        // https://stackoverflow.com/questions/10730362/get-cookie-by-name
        function get_cookie(name) {
            let value = "; " + document.cookie;
            let parts = value.split("; " + name + "=");
            if (parts.length === 2) return parts.pop().split(";").shift();
        }

        // date and time to the current locale, whatever it may be:
        // read the cookie value for the correct locale. Fallback to browser locale. The browser locale is
        // the same as the UI locale and is not overwritten by the User-Accept parameter the browser sends.
        // This, in some cases, causes two languages to show up depending on what renders.
        // Django (python) defaults to Accept Language, the browser (javascript) defaults to the OS language.
        // Setting the language explicitly using a cookie solves this problem.
        // Various pages set this cookie to syncronize with the Request Language if the cookie is not set
        current_language = get_cookie('dashboard_language') ? get_cookie('dashboard_language') : window.navigator.language;
        moment.locale(current_language);

        // Used within templates to 'humanize' all kinds of values.
        const humanize_mixin = {
            methods: {

                // todo: can we change the locale for moment.js on the fly?
                humanize_date: function (date) {
                    // Uses localized date and time format with day name, which is pretty advanced and complete
                    return moment(date).format('LLLL');
                },
                humanize_date_date_only: function (date) {
                    // Uses localized date and time format with day name, which is pretty advanced and complete
                    return moment(date).format('LL');
                },
                humanize_relative_date: function (date) {
                    // says things like 'days ago'...
                    return moment(date).fromNow();
                },
                humanize_duration: function(duration_in_milliseconds) {
                    return moment.duration(duration_in_milliseconds).humanize()
                },
                humanize_filesize: function(size_in_bytes, decimals=0){
                    if(size_in_bytes === 0) return '0 Bytes';
                    let k = 1024,
                        dm = decimals <= 0 ? 0 : decimals || 2,
                        sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],
                        i = Math.floor(Math.log(size_in_bytes) / Math.log(k));
                    return parseFloat((size_in_bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
                }
            }
        };

        const http_mixin = {
            methods: {
                asynchronous_json_post: function(url, data, callback){
                    // the context parameter is somewhat dangerous, but this allows us to say 'self.' in the callback.
                    // which could be done somewhat better.
                    // https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback
                    let server_response = {};
                    // console.log(`Posting to ${url}, with data ${data}`)
                    (async () => {
                      const rawResponse = await fetch(url, {
                          method: 'POST',
                          credentials: 'include',
                          headers: {
                              'Accept': 'application/json',
                              'Content-Type': 'application/json',
                              'X-CSRFToken': get_cookie('csrftoken')
                          },
                          body: JSON.stringify(data)
                      });
                      try {
                          // here is your synchronous part.
                          server_response = await rawResponse.json();
                      } catch (e) {
                          // SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data
                          server_response = {'error': true, 'message': 'Server error'}
                      }
                      callback(server_response)
                    })();
                }
            }
        };

        {% verbatim %}
        Vue.component('autorefresh', {
            i18n: {
                messages: {
                    en: {
                        refresh_happening_in: 'Auto refresh in:',
                        units: 's',
                        refresh_now: 'refresh data'
                    },
                    nl: {
                        refresh_happening_in: 'Lijst wordt ververst over:',
                        units: 's',
                        refresh_now: 'ververs gegevens'
                    }
                }
            },

            template: `
<div v-if='visible' class='auto_refresh block fullwidth'>
    <p style='margin-bottom: 0 !important;'>
        <button @click="reload_now()">{{ $t("refresh_now") }}</button>
        {{ $t("refresh_happening_in") }} <span v-html="this.current_step_inverted"></span>
        {{ $t("units") }}
    </p>
</div>`,

            data: function () {
                return {
                    // 60 * 1000ms
                    refresh_time: 60 * 1000,

                    // Counts down until the next refresh. Allows to add a visualisation on this timer.
                    countdown_percentage: 0,

                    // countdown every ms (more means more UI changes, slower site)
                    countdown_refresh_time: 1000,

                    //
                    countdown_steps: 0,

                    //
                    current_step: 1
                }
            },

            props:{
                callback: null,
                visible: true,
            },

            methods: {
                init_auto_refresh: function () {
                    setInterval(this.lower_countdown, this.countdown_refresh_time);
                    this.countdown_steps = this.refresh_time /  this.countdown_refresh_time;
                },
                lower_countdown: function(){
                    if (100 / (this.countdown_steps / this.current_step) >= 100) {
                        this.reload_now();
                    } else {
                        this.current_step += 1;
                    }
                },
                reload_now: function(){
                    this.current_step = 0;
                    this.callback();
                }
            },
            mounted: function(){
                this.init_auto_refresh();
            },
            computed: {
                current_step_inverted: function(){
                    return this.countdown_steps - this.current_step;
                }
            }
        });

        Vue.component('loading', {
            i18n: {
                messages: {
                    en: {
                        loading: "Loading...",
                    },
                    nl: {
                        loading: "Laden...",
                    }
                }
            },

            template: `
            <div v-if="loading" class="block fullwidth loading">
                <div class="loading">
                     <div class="lds-dual-ring"><div></div><div></div></div> <span>{{ $t("loading") }}</span>
                </div>
            </div>`,

            data: function () {
                return {
                    // loading: false,
                }
            },

            props:{
                loading: false,
            },
        });

        Vue.component('site-menu', {
            i18n: {
                messages: {
                    en: {
                        admin: 'Admin',
                        domains: "Domains",
                        scans: "Scans",
                        reports: "Reports",
                        account: "Account",
                        log_off: "Log off",
                        log_in: "Log in",
                    },
                    nl: {
                        admin: 'Beheer',
                        domains: "Domeinen",
                        scans: "Scans",
                        reports: "Rapporten",
                        account: "Account",
                        log_off: "Uitloggen",
                        log_in: "Inloggen",
                    }
                }
            },
            name: 'site-menu',
            template: '#menu_template',
        });

        $( document ).ready(function() {
            // new Vue({ el: '#menu', template: `<site-menu></site-menu>`, i18n});
            Vue.use(VueRouter);

            const routes = [
                { path: '/', component: DomainListManager, },

                { path: '/domains/:list', component: DomainListManager, name: 'numbered_lists'},
                { path: '/domains', component: DomainListManager, },
                { path: '/upload', component: SpreadsheetUpload,
                props: {csrf_token: get_cookie('csrftoken'),
                    max_lists: '{% endverbatim %}{{ config.DASHBOARD_MAXIMUM_LISTS_PER_SPREADSHEET }} {% verbatim %}',
                    max_urls: '{% endverbatim %} {{ config.DASHBOARD_MAXIMUM_LISTS_PER_SPREADSHEET }} {% verbatim %}',
                    }
                },
                { path: '/scans', component: ScanMonitor },
                { path: '/report/:report', component: Report, name: 'numbered_report'},
                { path: '/report', component: Report },
                { path: '/switch-account', component: SwitchAccount },
                { path: '/add-user', component: InstantAddAccount },
            ];

            const router = new VueRouter({
                routes, // short for `routes: routes`
                props: true
            });

            const app = new Vue({
                router,
                i18n,
                el: "#app",
                mounted: function() {
                    console.log("App loaded");
                }
            })
        });

        {% endverbatim %}
    </script>


<template type="x-template" id="menu_template">
    <ul>
        {% if user.is_authenticated %}

            {% if user.is_superuser %}
                <li><router-link to="/add-user">👤</router-link></li>
                <li><router-link to="/switch-account">🔀</router-link></li>
            {% endif %}

            {% verbatim %}
            <li><router-link to="/domains" accesskey="d">{{ $t("domains") }}</router-link></li>
            <li><router-link to="/scans" accesskey="s">{{ $t("scans") }}</router-link></li>
            <li><router-link to="/report" accesskey="r">{{ $t("reports") }}</router-link></li>

            <li class=""><a href="/account/two_factor/" accesskey="a">{{ $t("account") }}</a></li>
            <li class=""><a href="/logout/" accesskey="l">{{ $t("log_off") }}</a></li>

            {% endverbatim %}
        {% else %}
            <li class="current"><a href="/account/login/" accesskey="l">{% verbatim %}{{ $t("log_in") }}{% endverbatim %}</a></li>
        {% endif %}
    </ul>
</template>
    {% include "internet_nl_dashboard/templates/internet_nl_dashboard/domains.vue" %}
    {% include "internet_nl_dashboard/templates/internet_nl_dashboard/managed-url-list.vue" %}
    {% include "internet_nl_dashboard/templates/internet_nl_dashboard/report.vue" %}
    {% include "internet_nl_dashboard/templates/internet_nl_dashboard/scan_monitor.vue" %}
    {% include "internet_nl_dashboard/templates/internet_nl_dashboard/switch_account.vue" %}
    {% include "internet_nl_dashboard/templates/internet_nl_dashboard/add_account.vue" %}
    {% include "internet_nl_dashboard/templates/internet_nl_dashboard/upload.vue" %}


</head>
<body class="home body-with-semifixed-header" cz-shortcut-listen="true">

    <!--

    Todo: boot code:, load config and apply to components.

    -->

    <div  id="app">

        <div class="hidethis" aria-hidden="true">
            <span id="matomo-url">//matomo.internet.nl/</span>
            <span id="matomo-siteid">2</span>
            <span id="matomo-subdomain-tracking">*.internet.nl</span>
          </div>
        <div class="skiplink"><a href="#content">
            {% trans "page gotocontents" %}
        </a></div>
        <div class="skiplink"><a href="#sitenav">
            {% trans "page gotomainmenu" %}
        </a></div>
        <div class="skiplink"><a href="#footer">
            {% trans "page gotofooter" %}
        </a></div>

        <header>
            <div class="wrap">
                <div class="hidethis" aria-hidden="true">
                    <span id="panel-button-show">
                        Show details
                    </span>
                    <span id="panel-button-hide">
                        Hide details
                    </span>
                    <span id="panel-item-open">
                        open
                    </span>
                    <span id="panel-item-close">
                        close
                    </span>
                </div>

                <div id="masthead">
                    <p id="site-title"><a href="/"><span class="hidden">{% trans "page sitetitle" %}</span></a></p>
                    <p id="site-description"><span class="hidden">{% trans "page sitedescription" %}</span></p>
                </div>

                <div id="language-switch-header-container">
                    <ul class="language-switch-list">
                        {% with user_language=request.LANGUAGE_CODE %}
                            {% get_language_info_list for LANGUAGES as languages %}

                            {% for language in languages %}
                                <li>
                                {% if language.code == user_language %}
                                    <button class="active-language" disabled>{{language.name_local}}</button>
                                {% else %}
                                    <a onclick="set_language('{{language.code}}')">{{language.name_local}}</a>
                                {% endif %}
                                </li>
                            {% endfor %}
                        {% endwith %}
                    </ul>
                </div>

                <nav id="sitenav">
                    <site-menu></site-menu>
                </nav>
            </div>
        </header>

        <main id="content" class="clearfix" tabindex="-1">
            <div class="mainwrap">

            </div>
            <div class="wrap">

            <div style="width: 100%;">
                <router-view></router-view>
            </div>

            </div>

            <div class="wrap">
                <section class="block">
                    <div class="wrapper">
                        <p style="font-size: 0.9em; font-style: italic; margin-bottom: 0em;">
                            Thank you for using the internet.nl dashboard. Please report issues on <a href="https://github.com/internetstandards/Internet.nl-dashboard/issues" target="_blank">this GitHub page</a>.
                        </p>
                    </div>
                </section>
            </div>

        </main>

        <footer id="footer">
            <img id="flag" src="{% static 'images/vendor/internet_nl/clear.gif' %}" alt="">
            <div class="wrap">
                {% trans "base info" %}
                <hr>
                <ul>
                    <li><a class="footlink" href="https://www.internet.nl/disclosure/">
                        {% trans "base disclosure" %}
                    </a></li>
                    <li><a class="footlink" href="https://www.internet.nl/privacy/">
                        {% trans "base privacy" %}
                    </a></li>
                    <li><a class="footlink" href="https://www.internet.nl/copyright/">
                        {% trans "base copyright" %}
                    </a></li>
                    <li class="follow-us"><a class="footlink twitterfollow" href="https://twitter.com/internet_nl">
                        {% trans "base followtwitter" %}
                    </a></li>
                </ul>
            </div>
        </footer>

    </div>

    <script type="text/javascript" src="/static/js/vendor/internet_nl/menu-min.js" defer></script>
    <script type="text/javascript" src="/static/js/vendor/internet_nl/accordion-min.js" defer></script>
    <script type="text/javascript" src="/static/js/vendor/internet_nl/matomo-min.js"></script>
</body>
</html>

